<?xml version="1.0" encoding="UTF-8"?>
<ipojo xmlns="org.apache.felix.ipojo">
  <component classname="iCasa.alarm.system.AlarmSystemImpl" name="AlarmSystem">
    <requires aggregate="true" optional="true" specification="fr.liglab.adele.icasa.device.light.BinaryLight" field="binaryLights">
      <callback method="bindBinaryLights" type="bind"/>
      <callback method="unbindBinaryLights" type="unbind"/>
    </requires>
    <requires aggregate="true" optional="true" specification="fr.liglab.adele.icasa.device.light.DimmerLight" field="dimmerLights">
      <callback method="bindDimmerLights" type="bind"/>
      <callback method="unbindDimmerLights" type="unbind"/>
    </requires>
    <callback method="start" transition="validate"/>
    <callback method="stop" transition="invalidate"/>
    <requires aggregate="true" optional="true" specification="fr.liglab.adele.icasa.device.presence.PresenceSensor" field="presenceSensors">
      <callback method="bindPresenceSensors" type="bind"/>
      <callback method="unbindPresenceSensors" type="unbind"/>
    </requires>
    <requires aggregate="true" optional="true" specification="fr.liglab.adele.icasa.device.security.Siren" field="sirens">
      <callback method="bindSirens" type="bind"/>
      <callback method="unbindSirens" type="unbind"/>
    </requires>
    <provides specifications="iCasa.alarm.system.configuration.AlarmSystemConfiguration">
      <property field="AuthorizedPeopleIn" name="AuthorizedPeopleIn" type="java.lang.Boolean"/>
      <property field="UnauthorizedPeopleIn" name="UnauthorizedPeopleIn" type="java.lang.Boolean"/>
      <property field="AlarmTrigger" name="AlarmTrigger" type="java.lang.Boolean"/>
    </provides>
  </component>
  <instance component="AlarmSystem" name="AlarmSystem-1"/>
</ipojo>